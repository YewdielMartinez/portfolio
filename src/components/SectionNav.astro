---
// Section Navigation with Slide Indicators
---

<!-- Section Navigation Dots -->
<div id="section-nav" class="fixed right-8 top-1/2 -translate-y-1/2 z-40 hidden lg:flex flex-col gap-3">
  <a 
    href="#home" 
    class="section-dot w-3 h-3 rounded-full bg-gray-400 dark:bg-gray-600 hover:bg-[#F54927] dark:hover:bg-[#F54927] transition-all duration-300 hover:scale-150"
    data-section="home"
    aria-label="Go to Home"
  ></a>
  <a 
    href="#experience" 
    class="section-dot w-3 h-3 rounded-full bg-gray-400 dark:bg-gray-600 hover:bg-[#F54927] dark:hover:bg-[#F54927] transition-all duration-300 hover:scale-150"
    data-section="experience"
    aria-label="Go to Experience"
  ></a>
  <a 
    href="#work" 
    class="section-dot w-3 h-3 rounded-full bg-gray-400 dark:bg-gray-600 hover:bg-[#F54927] dark:hover:bg-[#F54927] transition-all duration-300 hover:scale-150"
    data-section="work"
    aria-label="Go to Work"
  ></a>
  <a 
    href="#about" 
    class="section-dot w-3 h-3 rounded-full bg-gray-400 dark:bg-gray-600 hover:bg-[#F54927] dark:hover:bg-[#F54927] transition-all duration-300 hover:scale-150"
    data-section="about"
    aria-label="Go to About"
  ></a>
  <a 
    href="#contact" 
    class="section-dot w-3 h-3 rounded-full bg-gray-400 dark:bg-gray-600 hover:bg-[#F54927] dark:hover:bg-[#F54927] transition-all duration-300 hover:scale-150"
    data-section="contact"
    aria-label="Go to Contact"
  ></a>
</div>

<!-- Scroll Hint Arrow (only on home section) -->
<div id="scroll-hint" class="fixed bottom-8 left-1/2 -translate-x-1/2 z-40 animate-bounce">
  <svg class="w-8 h-8 text-[#F54927]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
  </svg>
</div>

<style>
  .section-dot.active {
    background-color: #F54927;
    transform: scale(1.5);
  }

  @keyframes bounce {
    0%, 100% {
      transform: translateX(-50%) translateY(0);
    }
    50% {
      transform: translateX(-50%) translateY(10px);
    }
  }

  #scroll-hint {
    animation: bounce 2s infinite;
  }
</style>

<script>
  // Update active section indicator
  const sections = document.querySelectorAll('section[id]');
  const navDots = document.querySelectorAll('.section-dot');
  const scrollHint = document.getElementById('scroll-hint');

  function updateActiveDot() {
    const scrollPosition = window.scrollY + window.innerHeight / 2;

    sections.forEach((section) => {
      const sectionTop = (section as HTMLElement).offsetTop;
      const sectionHeight = (section as HTMLElement).offsetHeight;
      const sectionId = section.getAttribute('id');

      if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
        navDots.forEach(dot => {
          const dotSection = dot.getAttribute('data-section');
          if (dotSection === sectionId) {
            dot.classList.add('active');
          } else {
            dot.classList.remove('active');
          }
        });

        // Hide scroll hint if not on home section
        if (scrollHint) {
          if (sectionId === 'home') {
            scrollHint.style.display = 'block';
          } else {
            scrollHint.style.display = 'none';
          }
        }
      }
    });
  }

  // Initialize on load
  updateActiveDot();

  // Update on scroll
  window.addEventListener('scroll', updateActiveDot);

  // Smooth scroll on dot click
  navDots.forEach(dot => {
    dot.addEventListener('click', (e) => {
      e.preventDefault();
      const targetId = (dot as HTMLAnchorElement).getAttribute('href')?.substring(1);
      const targetSection = document.getElementById(targetId || '');
      
      if (targetSection) {
        targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  });

  // Keyboard navigation (Arrow keys)
  let currentSectionIndex = 0;

  window.addEventListener('keydown', (e) => {
    // Only handle arrow keys if not in input/textarea
    if (document.activeElement?.tagName === 'INPUT' || 
        document.activeElement?.tagName === 'TEXTAREA') {
      return;
    }

    if (e.key === 'ArrowDown' || e.key === 'PageDown') {
      e.preventDefault();
      if (currentSectionIndex < sections.length - 1) {
        currentSectionIndex++;
        sections[currentSectionIndex].scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {
      e.preventDefault();
      if (currentSectionIndex > 0) {
        currentSectionIndex--;
        sections[currentSectionIndex].scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    } else if (e.key === 'Home') {
      e.preventDefault();
      currentSectionIndex = 0;
      sections[0].scrollIntoView({ behavior: 'smooth', block: 'start' });
    } else if (e.key === 'End') {
      e.preventDefault();
      currentSectionIndex = sections.length - 1;
      sections[currentSectionIndex].scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  });

  // Update current section index on scroll
  window.addEventListener('scroll', () => {
    const scrollPosition = window.scrollY + window.innerHeight / 2;
    
    sections.forEach((section, index) => {
      const sectionTop = (section as HTMLElement).offsetTop;
      const sectionHeight = (section as HTMLElement).offsetHeight;
      
      if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
        currentSectionIndex = index;
      }
    });
  });
</script>
